#!/usr/bin/env ruby
require 'commander/import'
require_relative '../lib/ted_cli'

program :name, "ted-cli"
program :version, TedCli::VERSION
program :description, "Command Line Interface gem for explore and watch Ted talks"
program :help, 'Author', 'Julio Lopez Montalvo <https://github.com/theblasfem>'
program :help, 'Version', "#{TedCli::VERSION}"

command :key do |c|
  c.syntax = "ted-cli key YOUR-API-KEY"
  c.description = "Set up your API key"
  c.action do |args, options|
    unless args[0]
      puts `ted-cli --help`
    else
      puts "you are defining as key the next string:"
      puts args[0]
      TedCli.api_key = args[0]
      #KeyClass.instance.api_key = args[0]
    end
  end
end

command :talk do |c|
  c.syntax = "ted-cli talk"
  c.description = "Search a talk"
  c.action do |args, options|
    puts "your configured key is:"
    puts TedCli.api_key
    #puts KeyClass.instance.api_key
  end
end